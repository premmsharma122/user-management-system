#  üìö User Management System (MERN Stack)
##  üìå 1. Project Overview
```java
This is a complete, scalable, and secure User Management System (UMS) built using the MERN stack. It features robust
token-based authentication (JWT with refresh token rotation), secure password hashing (bcrypt), input validation,user
 CRUD operations, and cloud storage for profile images via Cloudinary.
```
| Feature           | Status                                                  |
|-------------------|----------------------------------------------------------|
| Technology Stack  | Node.js, Express.js, MongoDB (Mongoose), React.js (Vite) |
| Authentication    | JWT (Access Token 1h, Refresh Token 7d)                  |
| Authorization     | Role-Based Access Control (RBAC): user and admin         |
| Image Storage     | Cloudinary                                              |
| Styling           | Tailwind CSS                                            |

##  üöÄ 2. Setup and Installation
Follow these steps to get the project running locally.
---
## üß© A. Prerequisites
You must have the following software installed:

- **Node.js** (v18 or higher)
- **MongoDB**
  - Local instance (via **MongoDB Compass**) **or**
  - MongoDB Atlas account (cloud)
- **Cloudinary account** (Free tier is sufficient)
---

## üñ•Ô∏è B. Backend Setup (`/backend`)

### 1Ô∏è‚É£ Navigate to the Backend
```bash
cd user-management-system/backend
```
###  2Ô∏è‚É£ Install Dependencies
npm install
###  3Ô∏è‚É£ Configure Environment Variables
Create a file named .env in the /backend directory and add the following:
# Server Configuration
PORT=5000
NODE_ENV=development

# MongoDB Connection (Local or Atlas)
# Local: mongodb://127.0.0.1:27017/user_management_db
MONGO_URI=mongodb+srv://<atlas-user>:<password>@cluster0.xxxxx.mongodb.net/user_db

# JWT Secrets
JWT_SECRET=YOUR_VERY_STRONG_SECRET_KEY
JWT_ACCESS_EXPIRES=1h
JWT_REFRESH_EXPIRES=7d

# Cloudinary Credentials (Used for profile image storage)
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
###  4Ô∏è‚É£ Start the Server
npm start
###  ‚úî Server runs at:
http://localhost:5000
##  üåê C. Frontend Setup (/frontend)
###  1Ô∏è‚É£ Navigate to the Frontend
```bash
cd user-management-system/frontend

```
###  2Ô∏è‚É£ Install Dependencies
```bash
npm install
```
###  3Ô∏è‚É£ Start the Client
```bash
npm run dev
```
###  ‚úî Client runs at:
```bash
http://localhost:5173
```
##  You can directly paste this into your README.md ‚Äî it will render perfectly in GitHub.
---

## üìê 3. System Architecture and Design

### üèóÔ∏è A. Architecture Diagram

The system follows the **MERN Stack Architecture** with a clear separation between the **client** and the **API server**.

| Component            | Role                                                                                 | Security                                                                                  |
|----------------------|---------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| **React Client (Vite)** | Presentation Layer, handles routing and state management (AuthContext). Uses Axios Interceptors to attach JWT and handle token refresh. | Interceptor-based token handling, prevents unauthorized API calls. |
| **Express/Node API** | Business Logic, Authentication, Authorization, File Handling (Multer).               | JWT verification, bcrypt password hashing, input validation (express-validator).          |
| **MongoDB**          | Persistent Data Storage. Stores user data, hashed passwords, Cloudinary image URLs.  | Secure document-based storage with schema validation and indexes.                         |
| **Cloudinary**       | External File Storage for profile images. Provides CDN and optimized delivery.       | Secure API keys, signed uploads, and restricted access URLs.                              |

---
---

## üß© B. Entity-Relationship Diagram (ERD)

The system uses a **simple single-entity database design**, where **user roles control access levels**.

### üóÇÔ∏è User Entity Structure

| Field             | Description / Constraints                                         | Notes                                   |
|-------------------|-------------------------------------------------------------------|------------------------------------------|
| **user_id**       | Primary Key                                                      | Auto-generated by MongoDB                |
| **name**          | Required, minimum 3 characters                                   | Validated during registration            |
| **email**         | Required, Unique                                                 | Used for login                           |
| **phone**         | Required, Unique, 10‚Äì15 digits                                   | Validated using regex                    |
| **password**      | Required, stored as **hashed** value (bcrypt)                    | Never stored in plain text               |
| **profile_image** | URL path returned from **Cloudinary**                            | Optional                                 |
| **address**       | Optional field                                                   | User‚Äôs street address                    |
| **state**         | Required                                                         |                                          |
| **city**          | Required                                                         |                                          |
| **country**       | Required                                                         |                                          |
| **pincode**       | Required                                                         | 4‚Äì10 characters                          |
| **role**          | Default: `user`                                                  | Supports `user` and `admin`              |
| **created_at**    | Timestamp                                                        | Auto-generated                           |
| **updated_at**    | Timestamp                                                        | Auto-updated on modifications            |

---
---

## üìò 4. API Documentation (Postman)

The API is accessible at the base URL:  
**`http://localhost:5000/api`**

---

## üõ°Ô∏è A. Authentication Routes

| Method | Route                  | Description                | Access | Body / Notes |
|--------|------------------------|----------------------------|--------|--------------|
| **POST** | `/auth/register`      | Creates a new user.        | Public | Requires: `name`, `email`, `password`, `phone`, `state`, `city`, `country`, `pincode`, and `profile_image` (multipart/form-data). |
| **POST** | `/auth/login`         | Authenticates a user.      | Public | Requires: `loginId` (email/phone) and `password`. Returns **accessToken** and **refreshToken**. |
| **POST** | `/auth/refresh-token` | Issues a new Access Token. | Public | Requires: `refreshToken` in the request body. |

---

## üë§ B. User Management (CRUD) Routes

These routes require a valid Access Token in header:  
`Authorization: Bearer <token>`

| Method | Route           | Description               | Access | Notes |
|--------|------------------|----------------------------|--------|-------|
| **GET** | `/users`         | Lists all users. Supports search/filter: `/users?keyword=john` | Admin Only | Returns all user data except passwords. |
| **GET** | `/users/:id`     | Get user by ID.           | User (Self) or Admin | Role-based restriction applies. |
| **PUT** | `/users/:id`     | Update user details.       | User (Self) or Admin | All fields optional; validated before update. |
| **DELETE** | `/users/:id`  | Delete user account.       | Admin Only | Admin cannot delete their own account. |

---

## üì¨ C. Example: Testing Registration in Postman

To test the **registration API** using Postman:

1. Set **Method:** `POST`  
2. Set **URL:**  
   `http://localhost:5000/api/auth/register`
3. Navigate to the **Body** tab ‚Üí select **form-data**
4. Add the following fields (KEY type: *Text*):
   - name  
   - email  
   - password  
   - phone  
   - state  
   - city  
   - country  
   - pincode  
5. For **profile_image**, set KEY type to **File** and upload an image (`.png` or `.jpg`)
6. Click **Send**

‚úî A successful response returns:  
- **201 Created**  
- User data  
- **accessToken** and **refreshToken**

---
